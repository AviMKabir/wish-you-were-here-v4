(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Nr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const K={},Pt=[],Ie=()=>{},Ho=()=>!1,Ns=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Br=t=>t.startsWith("onUpdate:"),ce=Object.assign,qr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Vo=Object.prototype.hasOwnProperty,q=(t,e)=>Vo.call(t,e),R=Array.isArray,Ct=t=>Bs(t)==="[object Map]",_i=t=>Bs(t)==="[object Set]",I=t=>typeof t=="function",X=t=>typeof t=="string",et=t=>typeof t=="symbol",Y=t=>t!==null&&typeof t=="object",mi=t=>(Y(t)||I(t))&&I(t.then)&&I(t.catch),vi=Object.prototype.toString,Bs=t=>vi.call(t),Ko=t=>Bs(t).slice(8,-1),yi=t=>Bs(t)==="[object Object]",Hr=t=>X(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Qt=Nr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qs=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Jo=/-(\w)/g,be=qs(t=>t.replace(Jo,(e,s)=>s?s.toUpperCase():"")),Wo=/\B([A-Z])/g,gt=qs(t=>t.replace(Wo,"-$1").toLowerCase()),Hs=qs(t=>t.charAt(0).toUpperCase()+t.slice(1)),er=qs(t=>t?`on${Hs(t)}`:""),dt=(t,e)=>!Object.is(t,e),Os=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},bi=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},vr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let gn;const Vs=()=>gn||(gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vr(t){if(R(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=X(r)?Yo(r):Vr(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(X(t)||Y(t))return t}const zo=/;(?![^(]*\))/g,Go=/:([^]+)/,Qo=/\/\*[^]*?\*\//g;function Yo(t){const e={};return t.replace(Qo,"").split(zo).forEach(s=>{if(s){const r=s.split(Go);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Lt(t){let e="";if(X(t))e=t;else if(R(t))for(let s=0;s<t.length;s++){const r=Lt(t[s]);r&&(e+=r+" ")}else if(Y(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Xo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zo=Nr(Xo);function wi(t){return!!t||t===""}const Si=t=>!!(t&&t.__v_isRef===!0),ut=t=>X(t)?t:t==null?"":R(t)||Y(t)&&(t.toString===vi||!I(t.toString))?Si(t)?ut(t.value):JSON.stringify(t,Ti,2):String(t),Ti=(t,e)=>Si(e)?Ti(t,e.value):Ct(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[tr(r,i)+" =>"]=n,s),{})}:_i(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>tr(s))}:et(e)?tr(e):Y(e)&&!R(e)&&!yi(e)?String(e):e,tr=(t,e="")=>{var s;return et(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fe;class ea{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=fe,!e&&fe&&(this.index=(fe.scopes||(fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=fe;try{return fe=this,e()}finally{fe=s}}}on(){++this._on===1&&(this.prevScope=fe,fe=this)}off(){this._on>0&&--this._on===0&&(fe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ta(){return fe}let G;const sr=new WeakSet;class Ei{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,fe&&fe.active&&fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sr.has(this)&&(sr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_n(this),Oi(this);const e=G,s=Se;G=this,Se=!0;try{return this.fn()}finally{Ai(this),G=e,Se=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Wr(e);this.deps=this.depsTail=void 0,_n(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yr(this)&&this.run()}get dirty(){return yr(this)}}let ki=0,Yt,Xt;function xi(t,e=!1){if(t.flags|=8,e){t.next=Xt,Xt=t;return}t.next=Yt,Yt=t}function Kr(){ki++}function Jr(){if(--ki>0)return;if(Xt){let e=Xt;for(Xt=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Yt;){let e=Yt;for(Yt=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Oi(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ai(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Wr(r),sa(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function yr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Pi(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Pi(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===is)||(t.globalVersion=is,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!yr(t))))return;t.flags|=2;const e=t.dep,s=G,r=Se;G=t,Se=!0;try{Oi(t);const n=t.fn(t._value);(e.version===0||dt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{G=s,Se=r,Ai(t),t.flags&=-3}}function Wr(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Wr(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function sa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Se=!0;const Ci=[];function qe(){Ci.push(Se),Se=!1}function He(){const t=Ci.pop();Se=t===void 0?!0:t}function _n(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=G;G=void 0;try{e()}finally{G=s}}}let is=0;class ra{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ji{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!G||!Se||G===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==G)s=this.activeLink=new ra(G,this),G.deps?(s.prevDep=G.depsTail,G.depsTail.nextDep=s,G.depsTail=s):G.deps=G.depsTail=s,Ri(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=G.depsTail,s.nextDep=void 0,G.depsTail.nextDep=s,G.depsTail=s,G.deps===s&&(G.deps=r)}return s}trigger(e){this.version++,is++,this.notify(e)}notify(e){Kr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Jr()}}}function Ri(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Ri(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const br=new WeakMap,ft=Symbol(""),wr=Symbol(""),os=Symbol("");function se(t,e,s){if(Se&&G){let r=br.get(t);r||br.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new ji),n.map=r,n.key=s),n.track()}}function Fe(t,e,s,r,n,i){const o=br.get(t);if(!o){is++;return}const a=l=>{l&&l.trigger()};if(Kr(),e==="clear")o.forEach(a);else{const l=R(t),u=l&&Hr(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,p)=>{(p==="length"||p===os||!et(p)&&p>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(os)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ft)),Ct(t)&&a(o.get(wr)));break;case"delete":l||(a(o.get(ft)),Ct(t)&&a(o.get(wr)));break;case"set":Ct(t)&&a(o.get(ft));break}}Jr()}function mt(t){const e=V(t);return e===t?e:(se(e,"iterate",os),Te(t)?e:e.map(oe))}function Ks(t){return se(t=V(t),"iterate",os),t}const na={__proto__:null,[Symbol.iterator](){return rr(this,Symbol.iterator,oe)},concat(...t){return mt(this).concat(...t.map(e=>R(e)?mt(e):e))},entries(){return rr(this,"entries",t=>(t[1]=oe(t[1]),t))},every(t,e){return Ue(this,"every",t,e,void 0,arguments)},filter(t,e){return Ue(this,"filter",t,e,s=>s.map(oe),arguments)},find(t,e){return Ue(this,"find",t,e,oe,arguments)},findIndex(t,e){return Ue(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ue(this,"findLast",t,e,oe,arguments)},findLastIndex(t,e){return Ue(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ue(this,"forEach",t,e,void 0,arguments)},includes(...t){return nr(this,"includes",t)},indexOf(...t){return nr(this,"indexOf",t)},join(t){return mt(this).join(t)},lastIndexOf(...t){return nr(this,"lastIndexOf",t)},map(t,e){return Ue(this,"map",t,e,void 0,arguments)},pop(){return Vt(this,"pop")},push(...t){return Vt(this,"push",t)},reduce(t,...e){return mn(this,"reduce",t,e)},reduceRight(t,...e){return mn(this,"reduceRight",t,e)},shift(){return Vt(this,"shift")},some(t,e){return Ue(this,"some",t,e,void 0,arguments)},splice(...t){return Vt(this,"splice",t)},toReversed(){return mt(this).toReversed()},toSorted(t){return mt(this).toSorted(t)},toSpliced(...t){return mt(this).toSpliced(...t)},unshift(...t){return Vt(this,"unshift",t)},values(){return rr(this,"values",oe)}};function rr(t,e,s){const r=Ks(t),n=r[e]();return r!==t&&!Te(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const ia=Array.prototype;function Ue(t,e,s,r,n,i){const o=Ks(t),a=o!==t&&!Te(t),l=o[e];if(l!==ia[e]){const h=l.apply(t,i);return a?oe(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,oe(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function mn(t,e,s,r){const n=Ks(t);let i=s;return n!==t&&(Te(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,oe(a),l,t)}),n[e](i,...r)}function nr(t,e,s){const r=V(t);se(r,"iterate",os);const n=r[e](...s);return(n===-1||n===!1)&&Yr(s[0])?(s[0]=V(s[0]),r[e](...s)):n}function Vt(t,e,s=[]){qe(),Kr();const r=V(t)[e].apply(t,s);return Jr(),He(),r}const oa=Nr("__proto__,__v_isRef,__isVue"),$i=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(et));function aa(t){et(t)||(t=String(t));const e=V(this);return se(e,"has",t),e.hasOwnProperty(t)}class Ii{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?ma:Mi:i?Di:Ui).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=R(e);if(!n){let l;if(o&&(l=na[s]))return l;if(s==="hasOwnProperty")return aa}const a=Reflect.get(e,s,le(e)?e:r);return(et(s)?$i.has(s):oa(s))||(n||se(e,"get",s),i)?a:le(a)?o&&Hr(s)?a:a.value:Y(a)?n?Fi(a):Gr(a):a}}class Li extends Ii{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=pt(i);if(!Te(r)&&!pt(r)&&(i=V(i),r=V(r)),!R(e)&&le(i)&&!le(r))return l?!1:(i.value=r,!0)}const o=R(e)&&Hr(s)?Number(s)<e.length:q(e,s),a=Reflect.set(e,s,r,le(e)?e:n);return e===V(n)&&(o?dt(r,i)&&Fe(e,"set",s,r):Fe(e,"add",s,r)),a}deleteProperty(e,s){const r=q(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Fe(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!et(s)||!$i.has(s))&&se(e,"has",s),r}ownKeys(e){return se(e,"iterate",R(e)?"length":ft),Reflect.ownKeys(e)}}class la extends Ii{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const ca=new Li,ua=new la,ha=new Li(!0);const Sr=t=>t,ys=t=>Reflect.getPrototypeOf(t);function da(t,e,s){return function(...r){const n=this.__v_raw,i=V(n),o=Ct(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Sr:e?js:oe;return!e&&se(i,"iterate",l?wr:ft),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function bs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function fa(t,e){const s={get(n){const i=this.__v_raw,o=V(i),a=V(n);t||(dt(n,a)&&se(o,"get",n),se(o,"get",a));const{has:l}=ys(o),u=e?Sr:t?js:oe;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&se(V(n),"iterate",ft),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=V(i),a=V(n);return t||(dt(n,a)&&se(o,"has",n),se(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=V(a),u=e?Sr:t?js:oe;return!t&&se(l,"iterate",ft),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return ce(s,t?{add:bs("add"),set:bs("set"),delete:bs("delete"),clear:bs("clear")}:{add(n){!e&&!Te(n)&&!pt(n)&&(n=V(n));const i=V(this);return ys(i).has.call(i,n)||(i.add(n),Fe(i,"add",n,n)),this},set(n,i){!e&&!Te(i)&&!pt(i)&&(i=V(i));const o=V(this),{has:a,get:l}=ys(o);let u=a.call(o,n);u||(n=V(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?dt(i,c)&&Fe(o,"set",n,i):Fe(o,"add",n,i),this},delete(n){const i=V(this),{has:o,get:a}=ys(i);let l=o.call(i,n);l||(n=V(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&Fe(i,"delete",n,void 0),u},clear(){const n=V(this),i=n.size!==0,o=n.clear();return i&&Fe(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=da(n,t,e)}),s}function zr(t,e){const s=fa(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(q(s,n)&&n in r?s:r,n,i)}const pa={get:zr(!1,!1)},ga={get:zr(!1,!0)},_a={get:zr(!0,!1)};const Ui=new WeakMap,Di=new WeakMap,Mi=new WeakMap,ma=new WeakMap;function va(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ya(t){return t.__v_skip||!Object.isExtensible(t)?0:va(Ko(t))}function Gr(t){return pt(t)?t:Qr(t,!1,ca,pa,Ui)}function ba(t){return Qr(t,!1,ha,ga,Di)}function Fi(t){return Qr(t,!0,ua,_a,Mi)}function Qr(t,e,s,r,n){if(!Y(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ya(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function jt(t){return pt(t)?jt(t.__v_raw):!!(t&&t.__v_isReactive)}function pt(t){return!!(t&&t.__v_isReadonly)}function Te(t){return!!(t&&t.__v_isShallow)}function Yr(t){return t?!!t.__v_raw:!1}function V(t){const e=t&&t.__v_raw;return e?V(e):t}function wa(t){return!q(t,"__v_skip")&&Object.isExtensible(t)&&bi(t,"__v_skip",!0),t}const oe=t=>Y(t)?Gr(t):t,js=t=>Y(t)?Fi(t):t;function le(t){return t?t.__v_isRef===!0:!1}function Sa(t){return le(t)?t.value:t}const Ta={get:(t,e,s)=>e==="__v_raw"?t:Sa(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return le(n)&&!le(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Ni(t){return jt(t)?t:new Proxy(t,Ta)}class Ea{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new ji(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=is-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&G!==this)return xi(this,!0),!0}get value(){const e=this.dep.track();return Pi(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ka(t,e,s=!1){let r,n;return I(t)?r=t:(r=t.get,n=t.set),new Ea(r,n,s)}const ws={},Rs=new WeakMap;let lt;function xa(t,e=!1,s=lt){if(s){let r=Rs.get(s);r||Rs.set(s,r=[]),r.push(t)}}function Oa(t,e,s=K){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=O=>n?O:Te(O)||n===!1||n===0?Ne(O,1):Ne(O);let c,h,p,g,w=!1,x=!1;if(le(t)?(h=()=>t.value,w=Te(t)):jt(t)?(h=()=>u(t),w=!0):R(t)?(x=!0,w=t.some(O=>jt(O)||Te(O)),h=()=>t.map(O=>{if(le(O))return O.value;if(jt(O))return u(O);if(I(O))return l?l(O,2):O()})):I(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){qe();try{p()}finally{He()}}const O=lt;lt=c;try{return l?l(t,3,[g]):t(g)}finally{lt=O}}:h=Ie,e&&n){const O=h,M=n===!0?1/0:n;h=()=>Ne(O(),M)}const A=ta(),$=()=>{c.stop(),A&&A.active&&qr(A.effects,c)};if(i&&e){const O=e;e=(...M)=>{O(...M),$()}}let B=x?new Array(t.length).fill(ws):ws;const D=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(e){const M=c.run();if(n||w||(x?M.some((Ke,Ee)=>dt(Ke,B[Ee])):dt(M,B))){p&&p();const Ke=lt;lt=c;try{const Ee=[M,B===ws?void 0:x&&B[0]===ws?[]:B,g];l?l(e,3,Ee):e(...Ee),B=M}finally{lt=Ke}}}else c.run()};return a&&a(D),c=new Ei(h),c.scheduler=o?()=>o(D,!1):D,g=O=>xa(O,!1,c),p=c.onStop=()=>{const O=Rs.get(c);if(O){if(l)l(O,4);else for(const M of O)M();Rs.delete(c)}},e?r?D(!0):B=c.run():o?o(D.bind(null,!0),!0):c.run(),$.pause=c.pause.bind(c),$.resume=c.resume.bind(c),$.stop=$,$}function Ne(t,e=1/0,s){if(e<=0||!Y(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,le(t))Ne(t.value,e,s);else if(R(t))for(let r=0;r<t.length;r++)Ne(t[r],e,s);else if(_i(t)||Ct(t))t.forEach(r=>{Ne(r,e,s)});else if(yi(t)){for(const r in t)Ne(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ne(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hs(t,e,s,r){try{return r?t(...r):t()}catch(n){Js(n,e,s)}}function Le(t,e,s,r){if(I(t)){const n=hs(t,e,s,r);return n&&mi(n)&&n.catch(i=>{Js(i,e,s)}),n}if(R(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Le(t[i],e,s,r));return n}}function Js(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||K;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){qe(),hs(i,null,10,[t,l,u]),He();return}}Aa(t,s,n,r,o)}function Aa(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ae=[];let je=-1;const Rt=[];let Ge=null,xt=0;const Bi=Promise.resolve();let $s=null;function Pa(t){const e=$s||Bi;return t?e.then(this?t.bind(this):t):e}function Ca(t){let e=je+1,s=ae.length;for(;e<s;){const r=e+s>>>1,n=ae[r],i=as(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Xr(t){if(!(t.flags&1)){const e=as(t),s=ae[ae.length-1];!s||!(t.flags&2)&&e>=as(s)?ae.push(t):ae.splice(Ca(e),0,t),t.flags|=1,qi()}}function qi(){$s||($s=Bi.then(Vi))}function ja(t){R(t)?Rt.push(...t):Ge&&t.id===-1?Ge.splice(xt+1,0,t):t.flags&1||(Rt.push(t),t.flags|=1),qi()}function vn(t,e,s=je+1){for(;s<ae.length;s++){const r=ae[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ae.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Hi(t){if(Rt.length){const e=[...new Set(Rt)].sort((s,r)=>as(s)-as(r));if(Rt.length=0,Ge){Ge.push(...e);return}for(Ge=e,xt=0;xt<Ge.length;xt++){const s=Ge[xt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ge=null,xt=0}}const as=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Vi(t){try{for(je=0;je<ae.length;je++){const e=ae[je];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;je<ae.length;je++){const e=ae[je];e&&(e.flags&=-2)}je=-1,ae.length=0,Hi(),$s=null,(ae.length||Rt.length)&&Vi()}}let ve=null,Ki=null;function Is(t){const e=ve;return ve=t,Ki=t&&t.type.__scopeId||null,e}function Ra(t,e=ve,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Pn(-1);const i=Is(e);let o;try{o=t(...n)}finally{Is(i),r._d&&Pn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Tr(t,e){if(ve===null)return t;const s=Qs(ve),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=K]=e[n];i&&(I(i)&&(i={mounted:i,updated:i}),i.deep&&Ne(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function it(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(qe(),Le(l,s,8,[t.el,a,t,e]),He())}}const $a=Symbol("_vte"),Ia=t=>t.__isTeleport;function Zr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Zr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ji(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ls(t,e,s,r,n=!1){if(R(t)){t.forEach((w,x)=>Ls(w,e&&(R(e)?e[x]:e),s,r,n));return}if(Zt(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ls(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Qs(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===K?a.refs={}:a.refs,h=a.setupState,p=V(h),g=h===K?()=>!1:w=>q(p,w);if(u!=null&&u!==l&&(X(u)?(c[u]=null,g(u)&&(h[u]=null)):le(u)&&(u.value=null)),I(l))hs(l,a,12,[o,c]);else{const w=X(l),x=le(l);if(w||x){const A=()=>{if(t.f){const $=w?g(l)?h[l]:c[l]:l.value;n?R($)&&qr($,i):R($)?$.includes(i)||$.push(i):w?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else w?(c[l]=o,g(l)&&(h[l]=o)):x&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,_e(A,s)):A()}}}Vs().requestIdleCallback;Vs().cancelIdleCallback;const Zt=t=>!!t.type.__asyncLoader,Wi=t=>t.type.__isKeepAlive;function La(t,e){zi(t,"a",e)}function Ua(t,e){zi(t,"da",e)}function zi(t,e,s=re){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ws(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Wi(n.parent.vnode)&&Da(r,e,s,n),n=n.parent}}function Da(t,e,s,r){const n=Ws(e,t,r,!0);Gi(()=>{qr(r[e],n)},s)}function Ws(t,e,s=re,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{qe();const a=ds(s),l=Le(e,s,t,o);return a(),He(),l});return r?n.unshift(i):n.push(i),i}}const Ve=t=>(e,s=re)=>{(!cs||t==="sp")&&Ws(t,(...r)=>e(...r),s)},Ma=Ve("bm"),Fa=Ve("m"),Na=Ve("bu"),Ba=Ve("u"),qa=Ve("bum"),Gi=Ve("um"),Ha=Ve("sp"),Va=Ve("rtg"),Ka=Ve("rtc");function Ja(t,e=re){Ws("ec",t,e)}const Wa="components";function yn(t,e){return Ga(Wa,t,!0,e)||t}const za=Symbol.for("v-ndc");function Ga(t,e,s=!0,r=!1){const n=ve||re;if(n){const i=n.type;{const a=Ml(i,!1);if(a&&(a===e||a===be(e)||a===Hs(be(e))))return i}const o=bn(n[t]||i[t],e)||bn(n.appContext[t],e);return!o&&r?i:o}}function bn(t,e){return t&&(t[e]||t[be(e)]||t[Hs(be(e))])}function Qa(t,e,s,r){let n;const i=s,o=R(t);if(o||X(t)){const a=o&&jt(t);let l=!1,u=!1;a&&(l=!Te(t),u=pt(t),t=Ks(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?js(oe(t[c])):oe(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(Y(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Er=t=>t?mo(t)?Qs(t):Er(t.parent):null,es=ce(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Er(t.parent),$root:t=>Er(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Yi(t),$forceUpdate:t=>t.f||(t.f=()=>{Xr(t.update)}),$nextTick:t=>t.n||(t.n=Pa.bind(t.proxy)),$watch:t=>vl.bind(t)}),ir=(t,e)=>t!==K&&!t.__isScriptSetup&&q(t,e),Ya={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(ir(r,e))return o[e]=1,r[e];if(n!==K&&q(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&q(u,e))return o[e]=3,i[e];if(s!==K&&q(s,e))return o[e]=4,s[e];kr&&(o[e]=0)}}const c=es[e];let h,p;if(c)return e==="$attrs"&&se(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==K&&q(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,q(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return ir(n,e)?(n[e]=s,!0):r!==K&&q(r,e)?(r[e]=s,!0):q(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==K&&q(t,o)||ir(e,o)||(a=i[0])&&q(a,o)||q(r,o)||q(es,o)||q(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:q(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function wn(t){return R(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let kr=!0;function Xa(t){const e=Yi(t),s=t.proxy,r=t.ctx;kr=!1,e.beforeCreate&&Sn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:w,activated:x,deactivated:A,beforeDestroy:$,beforeUnmount:B,destroyed:D,unmounted:O,render:M,renderTracked:Ke,renderTriggered:Ee,errorCaptured:Je,serverPrefetch:ps,expose:st,inheritAttrs:Nt,components:gs,directives:_s,filters:Xs}=e;if(u&&Za(u,r,null),o)for(const Q in o){const J=o[Q];I(J)&&(r[Q]=J.bind(s))}if(n){const Q=n.call(s,s);Y(Q)&&(t.data=Gr(Q))}if(kr=!0,i)for(const Q in i){const J=i[Q],rt=I(J)?J.bind(s,s):I(J.get)?J.get.bind(s,s):Ie,ms=!I(J)&&I(J.set)?J.set.bind(s):Ie,nt=Nl({get:rt,set:ms});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>nt.value,set:ke=>nt.value=ke})}if(a)for(const Q in a)Qi(a[Q],r,s,Q);if(l){const Q=I(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(J=>{il(J,Q[J])})}c&&Sn(c,t,"c");function ne(Q,J){R(J)?J.forEach(rt=>Q(rt.bind(s))):J&&Q(J.bind(s))}if(ne(Ma,h),ne(Fa,p),ne(Na,g),ne(Ba,w),ne(La,x),ne(Ua,A),ne(Ja,Je),ne(Ka,Ke),ne(Va,Ee),ne(qa,B),ne(Gi,O),ne(Ha,ps),R(st))if(st.length){const Q=t.exposed||(t.exposed={});st.forEach(J=>{Object.defineProperty(Q,J,{get:()=>s[J],set:rt=>s[J]=rt})})}else t.exposed||(t.exposed={});M&&t.render===Ie&&(t.render=M),Nt!=null&&(t.inheritAttrs=Nt),gs&&(t.components=gs),_s&&(t.directives=_s),ps&&Ji(t)}function Za(t,e,s=Ie){R(t)&&(t=xr(t));for(const r in t){const n=t[r];let i;Y(n)?"default"in n?i=As(n.from||r,n.default,!0):i=As(n.from||r):i=As(n),le(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Sn(t,e,s){Le(R(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Qi(t,e,s,r){let n=r.includes(".")?uo(s,r):()=>s[r];if(X(t)){const i=e[t];I(i)&&ar(n,i)}else if(I(t))ar(n,t.bind(s));else if(Y(t))if(R(t))t.forEach(i=>Qi(i,e,s,r));else{const i=I(t.handler)?t.handler.bind(s):e[t.handler];I(i)&&ar(n,i,t)}}function Yi(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Us(l,u,o,!0)),Us(l,e,o)),Y(e)&&i.set(e,l),l}function Us(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Us(t,i,s,!0),n&&n.forEach(o=>Us(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=el[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const el={data:Tn,props:En,emits:En,methods:zt,computed:zt,beforeCreate:ie,created:ie,beforeMount:ie,mounted:ie,beforeUpdate:ie,updated:ie,beforeDestroy:ie,beforeUnmount:ie,destroyed:ie,unmounted:ie,activated:ie,deactivated:ie,errorCaptured:ie,serverPrefetch:ie,components:zt,directives:zt,watch:sl,provide:Tn,inject:tl};function Tn(t,e){return e?t?function(){return ce(I(t)?t.call(this,this):t,I(e)?e.call(this,this):e)}:e:t}function tl(t,e){return zt(xr(t),xr(e))}function xr(t){if(R(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ie(t,e){return t?[...new Set([].concat(t,e))]:e}function zt(t,e){return t?ce(Object.create(null),t,e):e}function En(t,e){return t?R(t)&&R(e)?[...new Set([...t,...e])]:ce(Object.create(null),wn(t),wn(e??{})):e}function sl(t,e){if(!t)return e;if(!e)return t;const s=ce(Object.create(null),t);for(const r in e)s[r]=ie(t[r],e[r]);return s}function Xi(){return{app:null,config:{isNativeTag:Ho,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rl=0;function nl(t,e){return function(r,n=null){I(r)||(r=ce({},r)),n!=null&&!Y(n)&&(n=null);const i=Xi(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:rl++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Bl,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&I(c.install)?(o.add(c),c.install(u,...h)):I(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||Be(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,Qs(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Le(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=$t;$t=u;try{return c()}finally{$t=h}}};return u}}let $t=null;function il(t,e){if(re){let s=re.provides;const r=re.parent&&re.parent.provides;r===s&&(s=re.provides=Object.create(r)),s[t]=e}}function As(t,e,s=!1){const r=re||ve;if(r||$t){const n=$t?$t._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&I(e)?e.call(r&&r.proxy):e}}const Zi={},eo=()=>Object.create(Zi),to=t=>Object.getPrototypeOf(t)===Zi;function ol(t,e,s,r=!1){const n={},i=eo();t.propsDefaults=Object.create(null),so(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:ba(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function al(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=V(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(zs(t.emitsOptions,p))continue;const g=e[p];if(l)if(q(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const w=be(p);n[w]=Or(l,a,w,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{so(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!q(e,h)&&((c=gt(h))===h||!q(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Or(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!q(e,h))&&(delete i[h],u=!0)}u&&Fe(t.attrs,"set","")}function so(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Qt(l))continue;const u=e[l];let c;n&&q(n,c=be(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:zs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=V(s),u=a||K;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Or(n,l,h,u[h],t,!q(u,h))}}return o}function Or(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=q(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&I(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=ds(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===gt(s))&&(r=!0))}return r}const ll=new WeakMap;function ro(t,e,s=!1){const r=s?ll:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!I(t)){const c=h=>{l=!0;const[p,g]=ro(h,e,!0);ce(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Y(t)&&r.set(t,Pt),Pt;if(R(i))for(let c=0;c<i.length;c++){const h=be(i[c]);kn(h)&&(o[h]=K)}else if(i)for(const c in i){const h=be(c);if(kn(h)){const p=i[c],g=o[h]=R(p)||I(p)?{type:p}:ce({},p),w=g.type;let x=!1,A=!0;if(R(w))for(let $=0;$<w.length;++$){const B=w[$],D=I(B)&&B.name;if(D==="Boolean"){x=!0;break}else D==="String"&&(A=!1)}else x=I(w)&&w.name==="Boolean";g[0]=x,g[1]=A,(x||q(g,"default"))&&a.push(h)}}const u=[o,a];return Y(t)&&r.set(t,u),u}function kn(t){return t[0]!=="$"&&!Qt(t)}const en=t=>t[0]==="_"||t==="$stable",tn=t=>R(t)?t.map($e):[$e(t)],cl=(t,e,s)=>{if(e._n)return e;const r=Ra((...n)=>tn(e(...n)),s);return r._c=!1,r},no=(t,e,s)=>{const r=t._ctx;for(const n in t){if(en(n))continue;const i=t[n];if(I(i))e[n]=cl(n,i,r);else if(i!=null){const o=tn(i);e[n]=()=>o}}},io=(t,e)=>{const s=tn(e);t.slots.default=()=>s},oo=(t,e,s)=>{for(const r in e)(s||!en(r))&&(t[r]=e[r])},ul=(t,e,s)=>{const r=t.slots=eo();if(t.vnode.shapeFlag&32){const n=e._;n?(oo(r,e,s),s&&bi(r,"_",n,!0)):no(e,r)}else e&&io(t,e)},hl=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=K;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:oo(n,e,s):(i=!e.$stable,no(e,n)),o=e}else e&&(io(t,e),o={default:1});if(i)for(const a in n)!en(a)&&o[a]==null&&delete n[a]},_e=kl;function dl(t){return fl(t)}function fl(t,e){const s=Vs();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Ie,insertStaticContent:w}=t,x=(d,f,_,y=null,m=null,v=null,E=void 0,T=null,S=!!f.dynamicChildren)=>{if(d===f)return;d&&!Kt(d,f)&&(y=vs(d),ke(d,m,v,!0),d=null),f.patchFlag===-2&&(S=!1,f.dynamicChildren=null);const{type:b,ref:C,shapeFlag:k}=f;switch(b){case Gs:A(d,f,_,y);break;case Ze:$(d,f,_,y);break;case lr:d==null&&B(f,_,y,E);break;case Re:gs(d,f,_,y,m,v,E,T,S);break;default:k&1?M(d,f,_,y,m,v,E,T,S):k&6?_s(d,f,_,y,m,v,E,T,S):(k&64||k&128)&&b.process(d,f,_,y,m,v,E,T,S,qt)}C!=null&&m&&Ls(C,d&&d.ref,v,f||d,!f)},A=(d,f,_,y)=>{if(d==null)r(f.el=a(f.children),_,y);else{const m=f.el=d.el;f.children!==d.children&&u(m,f.children)}},$=(d,f,_,y)=>{d==null?r(f.el=l(f.children||""),_,y):f.el=d.el},B=(d,f,_,y)=>{[d.el,d.anchor]=w(d.children,f,_,y,d.el,d.anchor)},D=({el:d,anchor:f},_,y)=>{let m;for(;d&&d!==f;)m=p(d),r(d,_,y),d=m;r(f,_,y)},O=({el:d,anchor:f})=>{let _;for(;d&&d!==f;)_=p(d),n(d),d=_;n(f)},M=(d,f,_,y,m,v,E,T,S)=>{f.type==="svg"?E="svg":f.type==="math"&&(E="mathml"),d==null?Ke(f,_,y,m,v,E,T,S):ps(d,f,m,v,E,T,S)},Ke=(d,f,_,y,m,v,E,T)=>{let S,b;const{props:C,shapeFlag:k,transition:P,dirs:j}=d;if(S=d.el=o(d.type,v,C&&C.is,C),k&8?c(S,d.children):k&16&&Je(d.children,S,null,y,m,or(d,v),E,T),j&&it(d,null,y,"created"),Ee(S,d,d.scopeId,E,y),C){for(const W in C)W!=="value"&&!Qt(W)&&i(S,W,null,C[W],v,y);"value"in C&&i(S,"value",null,C.value,v),(b=C.onVnodeBeforeMount)&&Pe(b,y,d)}j&&it(d,null,y,"beforeMount");const N=pl(m,P);N&&P.beforeEnter(S),r(S,f,_),((b=C&&C.onVnodeMounted)||N||j)&&_e(()=>{b&&Pe(b,y,d),N&&P.enter(S),j&&it(d,null,y,"mounted")},m)},Ee=(d,f,_,y,m)=>{if(_&&g(d,_),y)for(let v=0;v<y.length;v++)g(d,y[v]);if(m){let v=m.subTree;if(f===v||fo(v.type)&&(v.ssContent===f||v.ssFallback===f)){const E=m.vnode;Ee(d,E,E.scopeId,E.slotScopeIds,m.parent)}}},Je=(d,f,_,y,m,v,E,T,S=0)=>{for(let b=S;b<d.length;b++){const C=d[b]=T?Qe(d[b]):$e(d[b]);x(null,C,f,_,y,m,v,E,T)}},ps=(d,f,_,y,m,v,E)=>{const T=f.el=d.el;let{patchFlag:S,dynamicChildren:b,dirs:C}=f;S|=d.patchFlag&16;const k=d.props||K,P=f.props||K;let j;if(_&&ot(_,!1),(j=P.onVnodeBeforeUpdate)&&Pe(j,_,f,d),C&&it(f,d,_,"beforeUpdate"),_&&ot(_,!0),(k.innerHTML&&P.innerHTML==null||k.textContent&&P.textContent==null)&&c(T,""),b?st(d.dynamicChildren,b,T,_,y,or(f,m),v):E||J(d,f,T,null,_,y,or(f,m),v,!1),S>0){if(S&16)Nt(T,k,P,_,m);else if(S&2&&k.class!==P.class&&i(T,"class",null,P.class,m),S&4&&i(T,"style",k.style,P.style,m),S&8){const N=f.dynamicProps;for(let W=0;W<N.length;W++){const H=N[W],pe=k[H],ue=P[H];(ue!==pe||H==="value")&&i(T,H,pe,ue,m,_)}}S&1&&d.children!==f.children&&c(T,f.children)}else!E&&b==null&&Nt(T,k,P,_,m);((j=P.onVnodeUpdated)||C)&&_e(()=>{j&&Pe(j,_,f,d),C&&it(f,d,_,"updated")},y)},st=(d,f,_,y,m,v,E)=>{for(let T=0;T<f.length;T++){const S=d[T],b=f[T],C=S.el&&(S.type===Re||!Kt(S,b)||S.shapeFlag&70)?h(S.el):_;x(S,b,C,null,y,m,v,E,!0)}},Nt=(d,f,_,y,m)=>{if(f!==_){if(f!==K)for(const v in f)!Qt(v)&&!(v in _)&&i(d,v,f[v],null,m,y);for(const v in _){if(Qt(v))continue;const E=_[v],T=f[v];E!==T&&v!=="value"&&i(d,v,T,E,m,y)}"value"in _&&i(d,"value",f.value,_.value,m)}},gs=(d,f,_,y,m,v,E,T,S)=>{const b=f.el=d?d.el:a(""),C=f.anchor=d?d.anchor:a("");let{patchFlag:k,dynamicChildren:P,slotScopeIds:j}=f;j&&(T=T?T.concat(j):j),d==null?(r(b,_,y),r(C,_,y),Je(f.children||[],_,C,m,v,E,T,S)):k>0&&k&64&&P&&d.dynamicChildren?(st(d.dynamicChildren,P,_,m,v,E,T),(f.key!=null||m&&f===m.subTree)&&ao(d,f,!0)):J(d,f,_,C,m,v,E,T,S)},_s=(d,f,_,y,m,v,E,T,S)=>{f.slotScopeIds=T,d==null?f.shapeFlag&512?m.ctx.activate(f,_,y,E,S):Xs(f,_,y,m,v,E,S):un(d,f,S)},Xs=(d,f,_,y,m,v,E)=>{const T=d.component=$l(d,y,m);if(Wi(d)&&(T.ctx.renderer=qt),Il(T,!1,E),T.asyncDep){if(m&&m.registerDep(T,ne,E),!d.el){const S=T.subTree=Be(Ze);$(null,S,f,_)}}else ne(T,d,f,_,m,v,E)},un=(d,f,_)=>{const y=f.component=d.component;if(Tl(d,f,_))if(y.asyncDep&&!y.asyncResolved){Q(y,f,_);return}else y.next=f,y.update();else f.el=d.el,y.vnode=f},ne=(d,f,_,y,m,v,E)=>{const T=()=>{if(d.isMounted){let{next:k,bu:P,u:j,parent:N,vnode:W}=d;{const Oe=lo(d);if(Oe){k&&(k.el=W.el,Q(d,k,E)),Oe.asyncDep.then(()=>{d.isUnmounted||T()});return}}let H=k,pe;ot(d,!1),k?(k.el=W.el,Q(d,k,E)):k=W,P&&Os(P),(pe=k.props&&k.props.onVnodeBeforeUpdate)&&Pe(pe,N,k,W),ot(d,!0);const ue=On(d),xe=d.subTree;d.subTree=ue,x(xe,ue,h(xe.el),vs(xe),d,m,v),k.el=ue.el,H===null&&El(d,ue.el),j&&_e(j,m),(pe=k.props&&k.props.onVnodeUpdated)&&_e(()=>Pe(pe,N,k,W),m)}else{let k;const{el:P,props:j}=f,{bm:N,m:W,parent:H,root:pe,type:ue}=d,xe=Zt(f);ot(d,!1),N&&Os(N),!xe&&(k=j&&j.onVnodeBeforeMount)&&Pe(k,H,f),ot(d,!0);{pe.ce&&pe.ce._injectChildStyle(ue);const Oe=d.subTree=On(d);x(null,Oe,_,y,d,m,v),f.el=Oe.el}if(W&&_e(W,m),!xe&&(k=j&&j.onVnodeMounted)){const Oe=f;_e(()=>Pe(k,H,Oe),m)}(f.shapeFlag&256||H&&Zt(H.vnode)&&H.vnode.shapeFlag&256)&&d.a&&_e(d.a,m),d.isMounted=!0,f=_=y=null}};d.scope.on();const S=d.effect=new Ei(T);d.scope.off();const b=d.update=S.run.bind(S),C=d.job=S.runIfDirty.bind(S);C.i=d,C.id=d.uid,S.scheduler=()=>Xr(C),ot(d,!0),b()},Q=(d,f,_)=>{f.component=d;const y=d.vnode.props;d.vnode=f,d.next=null,al(d,f.props,y,_),hl(d,f.children,_),qe(),vn(d),He()},J=(d,f,_,y,m,v,E,T,S=!1)=>{const b=d&&d.children,C=d?d.shapeFlag:0,k=f.children,{patchFlag:P,shapeFlag:j}=f;if(P>0){if(P&128){ms(b,k,_,y,m,v,E,T,S);return}else if(P&256){rt(b,k,_,y,m,v,E,T,S);return}}j&8?(C&16&&Bt(b,m,v),k!==b&&c(_,k)):C&16?j&16?ms(b,k,_,y,m,v,E,T,S):Bt(b,m,v,!0):(C&8&&c(_,""),j&16&&Je(k,_,y,m,v,E,T,S))},rt=(d,f,_,y,m,v,E,T,S)=>{d=d||Pt,f=f||Pt;const b=d.length,C=f.length,k=Math.min(b,C);let P;for(P=0;P<k;P++){const j=f[P]=S?Qe(f[P]):$e(f[P]);x(d[P],j,_,null,m,v,E,T,S)}b>C?Bt(d,m,v,!0,!1,k):Je(f,_,y,m,v,E,T,S,k)},ms=(d,f,_,y,m,v,E,T,S)=>{let b=0;const C=f.length;let k=d.length-1,P=C-1;for(;b<=k&&b<=P;){const j=d[b],N=f[b]=S?Qe(f[b]):$e(f[b]);if(Kt(j,N))x(j,N,_,null,m,v,E,T,S);else break;b++}for(;b<=k&&b<=P;){const j=d[k],N=f[P]=S?Qe(f[P]):$e(f[P]);if(Kt(j,N))x(j,N,_,null,m,v,E,T,S);else break;k--,P--}if(b>k){if(b<=P){const j=P+1,N=j<C?f[j].el:y;for(;b<=P;)x(null,f[b]=S?Qe(f[b]):$e(f[b]),_,N,m,v,E,T,S),b++}}else if(b>P)for(;b<=k;)ke(d[b],m,v,!0),b++;else{const j=b,N=b,W=new Map;for(b=N;b<=P;b++){const ge=f[b]=S?Qe(f[b]):$e(f[b]);ge.key!=null&&W.set(ge.key,b)}let H,pe=0;const ue=P-N+1;let xe=!1,Oe=0;const Ht=new Array(ue);for(b=0;b<ue;b++)Ht[b]=0;for(b=j;b<=k;b++){const ge=d[b];if(pe>=ue){ke(ge,m,v,!0);continue}let Ae;if(ge.key!=null)Ae=W.get(ge.key);else for(H=N;H<=P;H++)if(Ht[H-N]===0&&Kt(ge,f[H])){Ae=H;break}Ae===void 0?ke(ge,m,v,!0):(Ht[Ae-N]=b+1,Ae>=Oe?Oe=Ae:xe=!0,x(ge,f[Ae],_,null,m,v,E,T,S),pe++)}const fn=xe?gl(Ht):Pt;for(H=fn.length-1,b=ue-1;b>=0;b--){const ge=N+b,Ae=f[ge],pn=ge+1<C?f[ge+1].el:y;Ht[b]===0?x(null,Ae,_,pn,m,v,E,T,S):xe&&(H<0||b!==fn[H]?nt(Ae,_,pn,2):H--)}}},nt=(d,f,_,y,m=null)=>{const{el:v,type:E,transition:T,children:S,shapeFlag:b}=d;if(b&6){nt(d.component.subTree,f,_,y);return}if(b&128){d.suspense.move(f,_,y);return}if(b&64){E.move(d,f,_,qt);return}if(E===Re){r(v,f,_);for(let k=0;k<S.length;k++)nt(S[k],f,_,y);r(d.anchor,f,_);return}if(E===lr){D(d,f,_);return}if(y!==2&&b&1&&T)if(y===0)T.beforeEnter(v),r(v,f,_),_e(()=>T.enter(v),m);else{const{leave:k,delayLeave:P,afterLeave:j}=T,N=()=>{d.ctx.isUnmounted?n(v):r(v,f,_)},W=()=>{k(v,()=>{N(),j&&j()})};P?P(v,N,W):W()}else r(v,f,_)},ke=(d,f,_,y=!1,m=!1)=>{const{type:v,props:E,ref:T,children:S,dynamicChildren:b,shapeFlag:C,patchFlag:k,dirs:P,cacheIndex:j}=d;if(k===-2&&(m=!1),T!=null&&(qe(),Ls(T,null,_,d,!0),He()),j!=null&&(f.renderCache[j]=void 0),C&256){f.ctx.deactivate(d);return}const N=C&1&&P,W=!Zt(d);let H;if(W&&(H=E&&E.onVnodeBeforeUnmount)&&Pe(H,f,d),C&6)qo(d.component,_,y);else{if(C&128){d.suspense.unmount(_,y);return}N&&it(d,null,f,"beforeUnmount"),C&64?d.type.remove(d,f,_,qt,y):b&&!b.hasOnce&&(v!==Re||k>0&&k&64)?Bt(b,f,_,!1,!0):(v===Re&&k&384||!m&&C&16)&&Bt(S,f,_),y&&hn(d)}(W&&(H=E&&E.onVnodeUnmounted)||N)&&_e(()=>{H&&Pe(H,f,d),N&&it(d,null,f,"unmounted")},_)},hn=d=>{const{type:f,el:_,anchor:y,transition:m}=d;if(f===Re){Bo(_,y);return}if(f===lr){O(d);return}const v=()=>{n(_),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(d.shapeFlag&1&&m&&!m.persisted){const{leave:E,delayLeave:T}=m,S=()=>E(_,v);T?T(d.el,v,S):S()}else v()},Bo=(d,f)=>{let _;for(;d!==f;)_=p(d),n(d),d=_;n(f)},qo=(d,f,_)=>{const{bum:y,scope:m,job:v,subTree:E,um:T,m:S,a:b,parent:C,slots:{__:k}}=d;xn(S),xn(b),y&&Os(y),C&&R(k)&&k.forEach(P=>{C.renderCache[P]=void 0}),m.stop(),v&&(v.flags|=8,ke(E,d,f,_)),T&&_e(T,f),_e(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Bt=(d,f,_,y=!1,m=!1,v=0)=>{for(let E=v;E<d.length;E++)ke(d[E],f,_,y,m)},vs=d=>{if(d.shapeFlag&6)return vs(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const f=p(d.anchor||d.el),_=f&&f[$a];return _?p(_):f};let Zs=!1;const dn=(d,f,_)=>{d==null?f._vnode&&ke(f._vnode,null,null,!0):x(f._vnode||null,d,f,null,null,null,_),f._vnode=d,Zs||(Zs=!0,vn(),Hi(),Zs=!1)},qt={p:x,um:ke,m:nt,r:hn,mt:Xs,mc:Je,pc:J,pbc:st,n:vs,o:t};return{render:dn,hydrate:void 0,createApp:nl(dn)}}function or({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function ot({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function pl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ao(t,e,s=!1){const r=t.children,n=e.children;if(R(r)&&R(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Qe(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ao(o,a)),a.type===Gs&&(a.el=o.el),a.type===Ze&&!a.el&&(a.el=o.el)}}function gl(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function lo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:lo(e)}function xn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const _l=Symbol.for("v-scx"),ml=()=>As(_l);function ar(t,e,s){return co(t,e,s)}function co(t,e,s=K){const{immediate:r,deep:n,flush:i,once:o}=s,a=ce({},s),l=e&&r||!e&&i!=="post";let u;if(cs){if(i==="sync"){const g=ml();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Ie,g.resume=Ie,g.pause=Ie,g}}const c=re;a.call=(g,w,x)=>Le(g,c,w,x);let h=!1;i==="post"?a.scheduler=g=>{_e(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,w)=>{w?g():Xr(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=Oa(t,e,a);return cs&&(u?u.push(p):l&&p()),p}function vl(t,e,s){const r=this.proxy,n=X(t)?t.includes(".")?uo(r,t):()=>r[t]:t.bind(r,r);let i;I(e)?i=e:(i=e.handler,s=e);const o=ds(this),a=co(n,i.bind(r),s);return o(),a}function uo(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const yl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${be(e)}Modifiers`]||t[`${gt(e)}Modifiers`];function bl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||K;let n=s;const i=e.startsWith("update:"),o=i&&yl(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>X(c)?c.trim():c)),o.number&&(n=s.map(vr)));let a,l=r[a=er(e)]||r[a=er(be(e))];!l&&i&&(l=r[a=er(gt(e))]),l&&Le(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Le(u,t,6,n)}}function ho(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!I(t)){const l=u=>{const c=ho(u,e,!0);c&&(a=!0,ce(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Y(t)&&r.set(t,null),null):(R(i)?i.forEach(l=>o[l]=null):ce(o,i),Y(t)&&r.set(t,o),o)}function zs(t,e){return!t||!Ns(e)?!1:(e=e.slice(2).replace(/Once$/,""),q(t,e[0].toLowerCase()+e.slice(1))||q(t,gt(e))||q(t,e))}function On(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:w,inheritAttrs:x}=t,A=Is(t);let $,B;try{if(s.shapeFlag&4){const O=n||r,M=O;$=$e(u.call(M,O,c,h,g,p,w)),B=a}else{const O=e;$=$e(O.length>1?O(h,{attrs:a,slots:o,emit:l}):O(h,null)),B=e.props?a:wl(a)}}catch(O){ts.length=0,Js(O,t,1),$=Be(Ze)}let D=$;if(B&&x!==!1){const O=Object.keys(B),{shapeFlag:M}=D;O.length&&M&7&&(i&&O.some(Br)&&(B=Sl(B,i)),D=Ut(D,B,!1,!0))}return s.dirs&&(D=Ut(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&Zr(D,s.transition),$=D,Is(A),$}const wl=t=>{let e;for(const s in t)(s==="class"||s==="style"||Ns(s))&&((e||(e={}))[s]=t[s]);return e},Sl=(t,e)=>{const s={};for(const r in t)(!Br(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Tl(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?An(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!zs(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?An(r,o,u):!0:!!o;return!1}function An(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!zs(s,i))return!0}return!1}function El({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const fo=t=>t.__isSuspense;function kl(t,e){e&&e.pendingBranch?R(t)?e.effects.push(...t):e.effects.push(t):ja(t)}const Re=Symbol.for("v-fgt"),Gs=Symbol.for("v-txt"),Ze=Symbol.for("v-cmt"),lr=Symbol.for("v-stc"),ts=[];let ye=null;function te(t=!1){ts.push(ye=t?null:[])}function xl(){ts.pop(),ye=ts[ts.length-1]||null}let ls=1;function Pn(t,e=!1){ls+=t,t<0&&ye&&e&&(ye.hasOnce=!0)}function po(t){return t.dynamicChildren=ls>0?ye||Pt:null,xl(),ls>0&&ye&&ye.push(t),t}function de(t,e,s,r,n,i){return po(U(t,e,s,r,n,i,!0))}function Ar(t,e,s,r,n){return po(Be(t,e,s,r,n,!0))}function go(t){return t?t.__v_isVNode===!0:!1}function Kt(t,e){return t.type===e.type&&t.key===e.key}const _o=({key:t})=>t??null,Ps=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?X(t)||le(t)||I(t)?{i:ve,r:t,k:e,f:!!s}:t:null);function U(t,e=null,s=null,r=0,n=null,i=t===Re?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_o(e),ref:e&&Ps(e),scopeId:Ki,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ve};return a?(sn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=X(s)?8:16),ls>0&&!o&&ye&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ye.push(l),l}const Be=Ol;function Ol(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===za)&&(t=Ze),go(t)){const a=Ut(t,e,!0);return s&&sn(a,s),ls>0&&!i&&ye&&(a.shapeFlag&6?ye[ye.indexOf(t)]=a:ye.push(a)),a.patchFlag=-2,a}if(Fl(t)&&(t=t.__vccOpts),e){e=Al(e);let{class:a,style:l}=e;a&&!X(a)&&(e.class=Lt(a)),Y(l)&&(Yr(l)&&!R(l)&&(l=ce({},l)),e.style=Vr(l))}const o=X(t)?1:fo(t)?128:Ia(t)?64:Y(t)?4:I(t)?2:0;return U(t,e,s,r,n,o,i,!0)}function Al(t){return t?Yr(t)||to(t)?ce({},t):t:null}function Ut(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Cl(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&_o(u),ref:e&&e.ref?s&&i?R(i)?i.concat(Ps(e)):[i,Ps(e)]:Ps(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Re?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ut(t.ssContent),ssFallback:t.ssFallback&&Ut(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Zr(c,l.clone(c)),c}function Pl(t=" ",e=0){return Be(Gs,null,t,e)}function Ds(t="",e=!1){return e?(te(),Ar(Ze,null,t)):Be(Ze,null,t)}function $e(t){return t==null||typeof t=="boolean"?Be(Ze):R(t)?Be(Re,null,t.slice()):go(t)?Qe(t):Be(Gs,null,String(t))}function Qe(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ut(t)}function sn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(R(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),sn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!to(e)?e._ctx=ve:n===3&&ve&&(ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else I(e)?(e={default:e,_ctx:ve},s=32):(e=String(e),r&64?(s=16,e=[Pl(e)]):s=8);t.children=e,t.shapeFlag|=s}function Cl(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Lt([e.class,r.class]));else if(n==="style")e.style=Vr([e.style,r.style]);else if(Ns(n)){const i=e[n],o=r[n];o&&i!==o&&!(R(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Pe(t,e,s,r=null){Le(t,e,7,[s,r])}const jl=Xi();let Rl=0;function $l(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||jl,i={uid:Rl++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ea(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ro(r,n),emitsOptions:ho(r,n),emit:null,emitted:null,propsDefaults:K,inheritAttrs:r.inheritAttrs,ctx:K,data:K,props:K,attrs:K,slots:K,refs:K,setupState:K,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=bl.bind(null,i),t.ce&&t.ce(i),i}let re=null,Ms,Pr;{const t=Vs(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Ms=e("__VUE_INSTANCE_SETTERS__",s=>re=s),Pr=e("__VUE_SSR_SETTERS__",s=>cs=s)}const ds=t=>{const e=re;return Ms(t),t.scope.on(),()=>{t.scope.off(),Ms(e)}},Cn=()=>{re&&re.scope.off(),Ms(null)};function mo(t){return t.vnode.shapeFlag&4}let cs=!1;function Il(t,e=!1,s=!1){e&&Pr(e);const{props:r,children:n}=t.vnode,i=mo(t);ol(t,r,i,e),ul(t,n,s||e);const o=i?Ll(t,e):void 0;return e&&Pr(!1),o}function Ll(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ya);const{setup:r}=s;if(r){qe();const n=t.setupContext=r.length>1?Dl(t):null,i=ds(t),o=hs(r,t,0,[t.props,n]),a=mi(o);if(He(),i(),(a||t.sp)&&!Zt(t)&&Ji(t),a){if(o.then(Cn,Cn),e)return o.then(l=>{jn(t,l)}).catch(l=>{Js(l,t,0)});t.asyncDep=o}else jn(t,o)}else vo(t)}function jn(t,e,s){I(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Y(e)&&(t.setupState=Ni(e)),vo(t)}function vo(t,e,s){const r=t.type;t.render||(t.render=r.render||Ie);{const n=ds(t);qe();try{Xa(t)}finally{He(),n()}}}const Ul={get(t,e){return se(t,"get",""),t[e]}};function Dl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Ul),slots:t.slots,emit:t.emit,expose:e}}function Qs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ni(wa(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in es)return es[s](t)},has(e,s){return s in e||s in es}})):t.proxy}function Ml(t,e=!0){return I(t)?t.displayName||t.name:t.name||e&&t.__name}function Fl(t){return I(t)&&"__vccOpts"in t}const Nl=(t,e)=>ka(t,e,cs),Bl="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cr;const Rn=typeof window<"u"&&window.trustedTypes;if(Rn)try{Cr=Rn.createPolicy("vue",{createHTML:t=>t})}catch{}const yo=Cr?t=>Cr.createHTML(t):t=>t,ql="http://www.w3.org/2000/svg",Hl="http://www.w3.org/1998/Math/MathML",De=typeof document<"u"?document:null,$n=De&&De.createElement("template"),Vl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?De.createElementNS(ql,t):e==="mathml"?De.createElementNS(Hl,t):s?De.createElement(t,{is:s}):De.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>De.createTextNode(t),createComment:t=>De.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>De.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{$n.innerHTML=yo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=$n.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Kl=Symbol("_vtc");function Jl(t,e,s){const r=t[Kl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const In=Symbol("_vod"),Wl=Symbol("_vsh"),zl=Symbol(""),Gl=/(^|;)\s*display\s*:/;function Ql(t,e,s){const r=t.style,n=X(s);let i=!1;if(s&&!n){if(e)if(X(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Cs(r,a,"")}else for(const o in e)s[o]==null&&Cs(r,o,"");for(const o in s)o==="display"&&(i=!0),Cs(r,o,s[o])}else if(n){if(e!==s){const o=r[zl];o&&(s+=";"+o),r.cssText=s,i=Gl.test(s)}}else e&&t.removeAttribute("style");In in t&&(t[In]=i?r.display:"",t[Wl]&&(r.display="none"))}const Ln=/\s*!important$/;function Cs(t,e,s){if(R(s))s.forEach(r=>Cs(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Yl(t,e);Ln.test(s)?t.setProperty(gt(r),s.replace(Ln,""),"important"):t[r]=s}}const Un=["Webkit","Moz","ms"],cr={};function Yl(t,e){const s=cr[e];if(s)return s;let r=be(e);if(r!=="filter"&&r in t)return cr[e]=r;r=Hs(r);for(let n=0;n<Un.length;n++){const i=Un[n]+r;if(i in t)return cr[e]=i}return e}const Dn="http://www.w3.org/1999/xlink";function Mn(t,e,s,r,n,i=Zo(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Dn,e.slice(6,e.length)):t.setAttributeNS(Dn,e,s):s==null||i&&!wi(s)?t.removeAttribute(e):t.setAttribute(e,i?"":et(s)?String(s):s)}function Fn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?yo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=wi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Ot(t,e,s,r){t.addEventListener(e,s,r)}function Xl(t,e,s,r){t.removeEventListener(e,s,r)}const Nn=Symbol("_vei");function Zl(t,e,s,r,n=null){const i=t[Nn]||(t[Nn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=ec(e);if(r){const u=i[e]=rc(r,n);Ot(t,a,u,l)}else o&&(Xl(t,a,o,l),i[e]=void 0)}}const Bn=/(?:Once|Passive|Capture)$/;function ec(t){let e;if(Bn.test(t)){e={};let r;for(;r=t.match(Bn);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gt(t.slice(2)),e]}let ur=0;const tc=Promise.resolve(),sc=()=>ur||(tc.then(()=>ur=0),ur=Date.now());function rc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Le(nc(r,s.value),e,5,[r])};return s.value=t,s.attached=sc(),s}function nc(t,e){if(R(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const qn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ic=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Jl(t,r,o):e==="style"?Ql(t,s,r):Ns(e)?Br(e)||Zl(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):oc(t,e,r,o))?(Fn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Mn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!X(r))?Fn(t,be(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Mn(t,e,r,o))};function oc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&qn(e)&&I(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return qn(e)&&X(s)?!1:e in t}const Hn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return R(e)?s=>Os(e,s):e};function ac(t){t.target.composing=!0}function Vn(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const hr=Symbol("_assign"),jr={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[hr]=Hn(n);const i=r||n.props&&n.props.type==="number";Ot(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=vr(a)),t[hr](a)}),s&&Ot(t,"change",()=>{t.value=t.value.trim()}),e||(Ot(t,"compositionstart",ac),Ot(t,"compositionend",Vn),Ot(t,"change",Vn))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[hr]=Hn(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?vr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},lc=["ctrl","shift","alt","meta"],cc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>lc.some(s=>t[`${s}Key`]&&!e.includes(s))},bo=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=cc[e[o]];if(a&&a(n,e))return}return t(n,...i)})},uc=ce({patchProp:ic},Vl);let Kn;function hc(){return Kn||(Kn=dl(uc))}const dc=(...t)=>{const e=hc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=pc(r);if(!n)return;const i=e._component;!I(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,fc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function fc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pc(t){return X(t)?document.querySelector(t):t}const gc="modulepreload",_c=function(t){return"/wish-you-were-here-v4/"+t},Jn={},Dt=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(s.map(u=>{if(u=_c(u),u in Jn)return;Jn[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":gc,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((g,w)=>{p.addEventListener("load",g),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},mc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Dt(async()=>{const{default:r}=await Promise.resolve().then(()=>Ft);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class rn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class vc extends rn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yc extends rn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bc extends rn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Rr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Rr||(Rr={}));var wc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Sc{constructor(e,{headers:s={},customFetch:r,region:n=Rr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=mc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return wc(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(w=>{throw new vc(w)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new yc(c);if(!c.ok)throw new bc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function Tc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ec(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Z={},vt={},yt={},bt={},wt={},St={},kc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mt=kc();const xc=Mt.fetch,wo=Mt.fetch.bind(Mt),So=Mt.Headers,Oc=Mt.Request,Ac=Mt.Response,Ft=Object.freeze(Object.defineProperty({__proto__:null,Headers:So,Request:Oc,Response:Ac,default:wo,fetch:xc},Symbol.toStringTag,{value:"Module"})),Pc=Ec(Ft);var Ss={},Wn;function To(){if(Wn)return Ss;Wn=1,Object.defineProperty(Ss,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ss.default=t,Ss}var zn;function Eo(){if(zn)return St;zn=1;var t=St&&St.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(St,"__esModule",{value:!0});const e=t(Pc),s=t(To());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,p;let g=null,w=null,x=null,A=u.status,$=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=M:w=JSON.parse(M))}const D=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),O=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");D&&O&&O.length>1&&(x=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(g={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,x=null,A=406,$="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const D=await u.text();try{g=JSON.parse(D),Array.isArray(g)&&u.status===404&&(w=[],g=null,A=200,$="OK")}catch{u.status===404&&D===""?(A=204,$="No Content"):g={message:D}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,A=200,$="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:w,count:x,status:A,statusText:$}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return St.default=r,St}var Gn;function ko(){if(Gn)return wt;Gn=1;var t=wt&&wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wt,"__esModule",{value:!0});const e=t(Eo());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return wt.default=s,wt}var Qn;function nn(){if(Qn)return bt;Qn=1;var t=bt&&bt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bt,"__esModule",{value:!0});const e=t(ko());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return bt.default=s,bt}var Yn;function xo(){if(Yn)return yt;Yn=1;var t=yt&&yt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yt,"__esModule",{value:!0});const e=t(nn());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return yt.default=s,yt}var Jt={},Wt={},Xn;function Cc(){return Xn||(Xn=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.version=void 0,Wt.version="0.0.0-automated"),Wt}var Zn;function jc(){if(Zn)return Jt;Zn=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.DEFAULT_HEADERS=void 0;const t=Cc();return Jt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Jt}var ei;function Rc(){if(ei)return vt;ei=1;var t=vt&&vt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vt,"__esModule",{value:!0});const e=t(xo()),s=t(nn()),r=jc();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([x,A])=>A!==void 0).map(([x,A])=>[x,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([x,A])=>{p.searchParams.append(x,A)})):(h="POST",g=a);const w=Object.assign({},this.headers);return c&&(w.Prefer=`count=${c}`),new s.default({method:h,url:p,headers:w,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return vt.default=n,vt}var ti;function $c(){if(ti)return Z;ti=1;var t=Z&&Z.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.PostgrestError=Z.PostgrestBuilder=Z.PostgrestTransformBuilder=Z.PostgrestFilterBuilder=Z.PostgrestQueryBuilder=Z.PostgrestClient=void 0;const e=t(Rc());Z.PostgrestClient=e.default;const s=t(xo());Z.PostgrestQueryBuilder=s.default;const r=t(nn());Z.PostgrestFilterBuilder=r.default;const n=t(ko());Z.PostgrestTransformBuilder=n.default;const i=t(Eo());Z.PostgrestBuilder=i.default;const o=t(To());return Z.PostgrestError=o.default,Z.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Z}var Ic=$c();const Lc=Tc(Ic),{PostgrestClient:Uc,PostgrestQueryBuilder:Gh,PostgrestFilterBuilder:Qh,PostgrestTransformBuilder:Yh,PostgrestBuilder:Xh,PostgrestError:Zh}=Lc,Dc="2.11.2",Mc={"X-Client-Info":`realtime-js/${Dc}`},Fc="1.0.0",Oo=1e4,Nc=1e3;var It;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(It||(It={}));var me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(me||(me={}));var we;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(we||(we={}));var $r;(function(t){t.websocket="websocket"})($r||($r={}));var ht;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ht||(ht={}));class Bc{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ao{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const si=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=qc(o,t,e,n),i),{})},qc=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Po(i,o):Ir(o)},Po=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Jc(e,s)}switch(t){case z.bool:return Hc(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return Vc(e);case z.json:case z.jsonb:return Kc(e);case z.timestamp:return Wc(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return Ir(e);default:return Ir(e)}},Ir=t=>t,Hc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Kc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Jc=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Po(e,a))}return t},Wc=t=>typeof t=="string"?t.replace(" ","T"):t,Co=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class dr{constructor(e,s,r={},n=Oo){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ri;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ri||(ri={}));class ss{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ss.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=ss.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=ss.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(A=>A.presence_ref),g=h.map(A=>A.presence_ref),w=c.filter(A=>g.indexOf(A.presence_ref)<0),x=h.filter(A=>p.indexOf(A.presence_ref)<0);w.length>0&&(a[u]=w),x.length>0&&(l[u]=x)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ni;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ni||(ni={}));var ii;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ii||(ii={}));var Me;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Me||(Me={}));class on{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new dr(this,we.join,this.params,this.timeout),this.rejoinTimer=new Ao(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(we.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new ss(this),this.broadcastEndpointURL=Co(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Me.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Me.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(Me.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,w=[];for(let x=0;x<g;x++){const A=p[x],{filter:{event:$,schema:B,table:D,filter:O}}=A,M=c&&c[x];if(M&&M.event===$&&M.schema===B&&M.table===D&&M.filter===O)w.push(Object.assign(Object.assign({},A),{id:M.id}));else{this.unsubscribe(),e==null||e(Me.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Me.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Me.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Me.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=me.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(we.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new dr(this,we.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new dr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=we;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var w,x,A;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((A=(x=g.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var w,x,A,$,B,D;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const O=g.id,M=(w=g.filter)===null||w===void 0?void 0:w.event;return O&&((x=s.ids)===null||x===void 0?void 0:x.includes(O))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const O=(B=($=g==null?void 0:g.filter)===null||$===void 0?void 0:$.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return O==="*"||O===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:x,table:A,commit_timestamp:$,type:B,errors:D}=w;p=Object.assign(Object.assign({},{schema:x,table:A,commit_timestamp:$,eventType:B,new:{},old:{},errors:D}),this._getPayloadRecords(w))}g.callback(p,r)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&on.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(we.close,{},e)}_onError(e){this._on(we.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=si(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=si(e.columns,e.old_record)),s}}const zc=()=>{},Gc=typeof WebSocket<"u",Qc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yc{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Mc,this.params={},this.timeout=Oo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zc,this.conn=null,this.sendBuffer=[],this.serializer=new Bc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Dt(async()=>{const{default:l}=await Promise.resolve().then(()=>Ft);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${$r.websocket}`,this.httpEndpoint=Co(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ao(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Gc){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Xc(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Dt(async()=>{const{default:e}=await import("./browser-DTe4jgEQ.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fc}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case It.connecting:return ht.Connecting;case It.open:return ht.Open;case It.closing:return ht.Closing;default:return ht.Closed}}isConnected(){return this.connectionState()===ht.Open}channel(e,s={config:{}}){const r=new on(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(we.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Nc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(we.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Qc],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Xc{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=It.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class an extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ee(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zc extends an{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lr extends an{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var eu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const jo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Dt(async()=>{const{default:r}=await Promise.resolve().then(()=>Ft);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},tu=()=>eu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dt(()=>Promise.resolve().then(()=>Ft),void 0)).Response:Response}),Ur=t=>{if(Array.isArray(t))return t.map(s=>Ur(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Ur(r)}),e};var _t=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const fr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),su=(t,e,s)=>_t(void 0,void 0,void 0,function*(){const r=yield tu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Zc(fr(n),t.status||500))}).catch(n=>{e(new Lr(fr(n),n))}):e(new Lr(fr(t),t))}),ru=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function fs(t,e,s,r,n,i){return _t(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,ru(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>su(l,a,r))})})}function Fs(t,e,s,r){return _t(this,void 0,void 0,function*(){return fs(t,"GET",e,s,r)})}function Ye(t,e,s,r,n){return _t(this,void 0,void 0,function*(){return fs(t,"POST",e,r,n,s)})}function nu(t,e,s,r,n){return _t(this,void 0,void 0,function*(){return fs(t,"PUT",e,r,n,s)})}function iu(t,e,s,r){return _t(this,void 0,void 0,function*(){return fs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Ro(t,e,s,r,n){return _t(this,void 0,void 0,function*(){return fs(t,"DELETE",e,r,n,s)})}var he=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ou={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class au{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=jo(n)}uploadOrUpdate(e,s,r,n){return he(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},oi),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ee(i))return{data:null,error:i};throw i}})}upload(e,s,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return he(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:oi.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ee(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return he(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ye(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new an("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}update(e,s,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return he(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}copy(e,s,r){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return he(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Ye(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return he(this,void 0,void 0,function*(){try{const n=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}download(e,s){return he(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Fs(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ee(a))return{data:null,error:a};throw a}})}info(e){return he(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Fs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Ur(r),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}exists(e){return he(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield iu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ee(r)&&r instanceof Lr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}})}list(e,s,r){return he(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},ou),s),{prefix:e||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const lu="2.7.1",cu={"X-Client-Info":`storage-js/${lu}`};var Tt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class uu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},cu),s),this.fetch=jo(r)}listBuckets(){return Tt(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ee(e))return{data:null,error:e};throw e}})}getBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Tt(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Tt(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}})}}class hu extends uu{constructor(e,s={},r){super(e,s,r)}from(e){return new au(this.url,this.headers,e,this.fetch)}}const du="2.49.8";let Gt="";typeof Deno<"u"?Gt="deno":typeof document<"u"?Gt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gt="react-native":Gt="node";const fu={"X-Client-Info":`supabase-js-${Gt}/${du}`},pu={headers:fu},gu={schema:"public"},_u={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mu={};var vu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const yu=t=>{let e;return t?e=t:typeof fetch>"u"?e=wo:e=fetch,(...s)=>e(...s)},bu=()=>typeof Headers>"u"?So:Headers,wu=(t,e,s)=>{const r=yu(s),n=bu();return(i,o)=>vu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Su=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Tu(t){return t.endsWith("/")?t:t+"/"}function Eu(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Su(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const $o="2.69.1",At=30*1e3,Dr=3,pr=Dr*At,ku="http://localhost:9999",xu="supabase.auth.token",Ou={"X-Client-Info":`gotrue-js/${$o}`},Mr="X-Supabase-Api-Version",Io={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Au=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pu=6e5;class ln extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Cu extends ln{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function ju(t){return L(t)&&t.name==="AuthApiError"}class Lo extends ln{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class tt extends ln{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class We extends tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ru(t){return L(t)&&t.name==="AuthSessionMissingError"}class gr extends tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ts extends tt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Es extends tt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $u(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class ai extends tt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fr extends tt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function _r(t){return L(t)&&t.name==="AuthRetryableFetchError"}class li extends tt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class rs extends tt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ui=` 	
\r=`.split(""),Iu=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ui.length;e+=1)t[ui[e].charCodeAt(0)]=-2;for(let e=0;e<ci.length;e+=1)t[ci[e].charCodeAt(0)]=e;return t})();function Uo(t,e,s){const r=Iu[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Du(o,r,s)};for(let o=0;o<t.length;o+=1)Uo(t.charCodeAt(o),n,i);return e.join("")}function Lu(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Uu(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Lu(r,e)}}function Du(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Mu(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Uo(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Fu(t){const e=[];return Uu(t,s=>e.push(s)),new Uint8Array(e)}function Nu(t){return Math.round(Date.now()/1e3)+t}function Bu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ce=()=>typeof window<"u"&&typeof document<"u",at={tested:!1,writable:!1},ns=()=>{if(!Ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(at.tested)return at.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),at.tested=!0,at.writable=!0}catch{at.tested=!0,at.writable=!1}return at.writable};function qu(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Do=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Dt(async()=>{const{default:r}=await Promise.resolve().then(()=>Ft);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Hu=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mo=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ks=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},xs=async(t,e)=>{await t.removeItem(e)};class Ys{constructor(){this.promise=new Ys.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Ys.promiseConstructor=Promise;function mr(t){const e=t.split(".");if(e.length!==3)throw new rs("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Au.test(e[r]))throw new rs("JWT not in base64url format");return{header:JSON.parse(hi(e[0])),payload:JSON.parse(hi(e[1])),signature:Mu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vu(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ku(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Ju(t){return("0"+t.toString(16)).substr(-2)}function Wu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Ju).join("")}async function zu(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Gu(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await zu(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Et(t,e,s=!1){const r=Wu();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Mo(t,`${e}-code-verifier`,n);const i=await Gu(r);return[i,r===i?"plain":"s256"]}const Qu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yu(t){const e=t.headers.get(Mr);if(!e||!e.match(Qu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xu(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zu(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var eh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const ct=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),th=[502,503,504];async function di(t){var e;if(!Hu(t))throw new Fr(ct(t),0);if(th.includes(t.status))throw new Fr(ct(t),t.status);let s;try{s=await t.json()}catch(i){throw new Lo(ct(i),i)}let r;const n=Yu(t);if(n&&n.getTime()>=Io["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new li(ct(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new We}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new li(ct(s),t.status,s.weak_password.reasons);throw new Cu(ct(s),t.status||500,r)}const sh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function F(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Mr]||(i[Mr]=Io["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function rh(t,e,s,r,n,i){const o=sh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Fr(ct(l),0)}if(a.ok||await di(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await di(l)}}function ze(t){var e;let s=null;ah(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Nu(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function fi(t){const e=ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nh(t){return{data:t,error:null}}function ih(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=eh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function oh(t){return t}function ah(t){return t.access_token&&t.refresh_token&&t.expires_in}var lh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class ch{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Do(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Xe})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=lh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:ih,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(L(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xe})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:oh});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(w.split(";")[1].split("=")[1]);u[`${A}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xe})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Xe})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Xe})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(L(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}}const uh={getItem:t=>ns()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ns()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ns()&&globalThis.localStorage.removeItem(t)}};function pi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function hh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kt={debug:!!(globalThis&&ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dh extends Fo{}async function fh(t,e,s){kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),kt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}hh();const ph={url:ku,storageKey:xu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ou,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gi(t,e,s){return await s()}class us{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&Ce()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},ph),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ch({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Do(n.fetch),this.lock=n.lock||gi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ce()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=fh:this.lock=gi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ns()?this.storage=uh:(this.memoryStorage={},this.storage=pi(this.memoryStorage)):(this.memoryStorage={},this.storage=pi(this.memoryStorage)),Ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$o}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=qu(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ce()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),$u(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return L(s)?{error:s}:{error:new Lo("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:ze}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Et(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:w},xform:ze})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ze})}else throw new Ts("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fi})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fi})}else throw new Ts("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await ks(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ze});if(await xs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ze}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Et(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ts("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ze});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Et(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:nh})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new We;const{error:n}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await F(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ts("You must provide either an email or phone number and a type")}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<pr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xe}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Xe})})}catch(s){if(L(s))return Ru(s)&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new We;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Et(this.storage,this.storageKey));const{data:u,error:c}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Xe});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new We;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=mr(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(L(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new We;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ce())throw new Es("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Es(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ai("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Es("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ai("No code detected.");const{data:B,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Es("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=At&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const w=p-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,c);const{data:x,error:A}=await this._getUser(i);if(A)throw A;const $={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ks(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ju(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Bu(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Et(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ce()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Ku(async n=>(n>0&&await Vu(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ze})),(n,i)=>{const o=200*Math.pow(2,n);return i&&_r(i)&&Date.now()+o-r<At})}catch(r){if(this._debug(s,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ce()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await ks(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<pr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${pr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),_r(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Ys;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new We;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),L(i)){const o={session:null,error:i};return _r(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Mo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await xs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),At);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/At);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${At}ms, refresh threshold is ${Dr} ticks`),n<=Dr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Et(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Pu>Date.now()))return r;const{data:n,error:i}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new rs("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new rs("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=mr(r);if(Xu(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=Zu(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Fu(`${a}.${l}`)))throw new rs("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}us.nextInstanceID=0;const gh=us;class _h extends gh{constructor(e){super(e)}}var mh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class vh{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Tu(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:gu,realtime:mu,auth:Object.assign(Object.assign({},_u),{storageKey:u}),global:pu},h=Eu(r??{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=wu(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Uc(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Sc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return mh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _h({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Yc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yh=(t,e,s)=>new vh(t,e,s),bh="https://clpdauhheendqjkhtoff.supabase.co",wh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNscGRhdWhoZWVuZHFqa2h0b2ZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NjcyNjIsImV4cCI6MjA2MzQ0MzI2Mn0.YeMWkP6BU7raMJxqe2Oi2BfEQBcQ4t8VBKB5bZeHBbU",No=yh(bh,wh),cn=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Sh={name:"SignupForm",data(){return{phoneNumber:"",instagramHandle:"",message:"",isSuccess:!1}},methods:{async submitForm(){if(!this.phoneNumber||!this.instagramHandle){this.message="Please fill in all fields",this.isSuccess=!1;return}try{const t=this.instagramHandle.startsWith("@")?this.instagramHandle:`@${this.instagramHandle}`,{error:e}=await No.from("signups").insert([{phone_number:this.phoneNumber,instagram_handle:t}]);if(e)throw e;this.message="Thank you for signing up!",this.isSuccess=!0,this.resetForm()}catch(t){console.error("Error:",t),this.message="An error occurred. Please try again.",this.isSuccess=!1}},resetForm(){this.phoneNumber="",this.instagramHandle="",setTimeout(()=>{this.message=""},3e3)}}},Th={class:"signup-container"},Eh={class:"form-group"},kh={class:"form-group"};function xh(t,e,s,r,n,i){return te(),de("div",Th,[e[8]||(e[8]=U("h2",null,"Join the Dinner Club!",-1)),U("form",{onSubmit:e[2]||(e[2]=bo((...o)=>i.submitForm&&i.submitForm(...o),["prevent"]))},[U("div",Eh,[e[3]||(e[3]=U("label",{for:"phoneNumber"},"Phone Number:",-1)),Tr(U("input",{type:"tel",id:"phoneNumber","onUpdate:modelValue":e[0]||(e[0]=o=>n.phoneNumber=o),required:"",placeholder:"e.g., +15551234567"},null,512),[[jr,n.phoneNumber]]),e[4]||(e[4]=U("small",null,"Include country code (e.g., +1 for USA).",-1))]),U("div",kh,[e[5]||(e[5]=U("label",{for:"instagramHandle"},"Instagram Handle:",-1)),Tr(U("input",{type:"text",id:"instagramHandle","onUpdate:modelValue":e[1]||(e[1]=o=>n.instagramHandle=o),required:"",placeholder:"e.g., @foodvlogcompany"},null,512),[[jr,n.instagramHandle]]),e[6]||(e[6]=U("small",null,"Start with '@' (optional but good practice).",-1))]),e[7]||(e[7]=U("button",{type:"submit"},"Sign Up!",-1)),n.message?(te(),de("p",{key:0,class:Lt({"success-message":n.isSuccess,"error-message":!n.isSuccess})},ut(n.message),3)):Ds("",!0)],32)])}const Oh=cn(Sh,[["render",xh],["__scopeId","data-v-584be90e"]]),Ah={name:"AdminDashboard",data(){return{signups:[],loading:!1,error:null,isAuthenticated:!1,password:"",loginError:null}},created(){localStorage.getItem("isAdminAuthenticated")==="true"&&(this.isAuthenticated=!0,this.fetchSignups())},methods:{login(){this.password==="admin123"?(this.isAuthenticated=!0,this.loginError=null,localStorage.setItem("isAdminAuthenticated","true"),this.password="",this.fetchSignups()):(this.loginError="Invalid password",this.password="")},logout(){this.isAuthenticated=!1,localStorage.removeItem("isAdminAuthenticated"),this.signups=[]},async fetchSignups(){this.loading=!0,this.error=null;try{const{data:t,error:e}=await No.from("signups").select("*").order("created_at",{ascending:!1});if(e)throw e;this.signups=t}catch(t){console.error("Error fetching signups:",t),this.error="Failed to load signups"}finally{this.loading=!1}},formatDate(t){const e={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};return new Date(t).toLocaleDateString(void 0,e)}}},Ph={class:"admin-dashboard-container"},Ch={key:0,class:"login-container"},jh={class:"form-group"},Rh={key:0,class:"error"},$h={key:1},Ih={class:"header-container"},Lh={key:0,class:"loading"},Uh={key:1,class:"error"},Dh={key:2},Mh={key:0},Fh={key:1},Nh=["href"],Bh=["href"];function qh(t,e,s,r,n,i){return te(),de("div",Ph,[n.isAuthenticated?(te(),de("div",$h,[U("div",Ih,[e[6]||(e[6]=U("h2",null,"User Sign-ups",-1)),U("button",{onClick:e[2]||(e[2]=(...o)=>i.logout&&i.logout(...o)),class:"logout-btn"},"Logout")]),n.loading?(te(),de("div",Lh,"Loading...")):n.error?(te(),de("div",Uh,ut(n.error),1)):(te(),de("div",Dh,[n.signups.length===0?(te(),de("p",Mh,"No users signed up yet.")):(te(),de("table",Fh,[e[7]||(e[7]=U("thead",null,[U("tr",null,[U("th",null,"Phone Number"),U("th",null,"Instagram Handle"),U("th",null,"Signed Up At"),U("th",null,"Actions")])],-1)),U("tbody",null,[(te(!0),de(Re,null,Qa(n.signups,o=>(te(),de("tr",{key:o.id},[U("td",null,ut(o.phone_number),1),U("td",null,ut(o.instagram_handle),1),U("td",null,ut(i.formatDate(o.created_at)),1),U("td",null,[U("a",{href:"sms:"+o.phone_number,target:"_blank",class:"action-btn sms-btn"},"Text",8,Nh),U("a",{href:"https://instagram.com/"+o.instagram_handle.replace("@",""),target:"_blank",class:"action-btn insta-btn"},"IG Profile",8,Bh)])]))),128))])]))]))])):(te(),de("div",Ch,[e[5]||(e[5]=U("h2",null,"Admin Login",-1)),U("form",{onSubmit:e[1]||(e[1]=bo((...o)=>i.login&&i.login(...o),["prevent"])),class:"login-form"},[U("div",jh,[e[3]||(e[3]=U("label",{for:"password"},"Password:",-1)),Tr(U("input",{type:"password",id:"password","onUpdate:modelValue":e[0]||(e[0]=o=>n.password=o),required:"",placeholder:"Enter admin password"},null,512),[[jr,n.password]])]),e[4]||(e[4]=U("button",{type:"submit"},"Login",-1)),n.loginError?(te(),de("p",Rh,ut(n.loginError),1)):Ds("",!0)],32)]))])}const Hh=cn(Ah,[["render",qh],["__scopeId","data-v-a3e98002"]]),Vh={name:"App",components:{SignupForm:Oh,AdminDashboard:Hh},data(){return{currentView:"signup",users:[]}},created(){const t=localStorage.getItem("dinnerClubUsers");t&&(this.users=JSON.parse(t))},methods:{addUserData(t){const e=this.users.findIndex(s=>s.phoneNumber===t.phoneNumber);e!==-1?this.users.splice(e,1,t):this.users.push(t),this.users.sort((s,r)=>new Date(r.createdAt)-new Date(s.createdAt)),localStorage.setItem("dinnerClubUsers",JSON.stringify(this.users))}}},Kh={id:"app"};function Jh(t,e,s,r,n,i){const o=yn("SignupForm"),a=yn("AdminDashboard");return te(),de("div",Kh,[U("header",null,[U("nav",null,[U("button",{onClick:e[0]||(e[0]=l=>n.currentView="signup"),class:Lt({active:n.currentView==="signup"})},"Sign Up",2),U("button",{onClick:e[1]||(e[1]=l=>n.currentView="admin"),class:Lt({active:n.currentView==="admin"})},"Admin Dashboard",2)])]),U("main",null,[n.currentView==="signup"?(te(),Ar(o,{key:0,onSignupSuccess:i.addUserData},null,8,["onSignupSuccess"])):Ds("",!0),n.currentView==="admin"?(te(),Ar(a,{key:1,users:n.users},null,8,["users"])):Ds("",!0)])])}const Wh=cn(Vh,[["render",Jh]]);dc(Wh).mount("#app");export{Tc as g};
